<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mi Organizador Universitario ‚Äî Responsive</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    :root{
      --bg1:#0f172a; --bg2:#1e293b; 
      --ink:#f8fafc; --muted:#94a3b8; 
      --paper:#1e293b;
      --ring:#6366f1; --shadow:rgba(0,0,0,.4);
      --mat:#14b8a6; --alg:#6366f1; --eco:#f59e0b; --gen:#475569;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, var(--bg1) 0%, var(--bg2) 100%);
      min-height: 100vh;
      color: var(--ink);
    }
    a { color: var(--alg); }

    .container { max-width: 1400px; margin: 0 auto; padding: 20px; }
    .header { text-align: center; margin-bottom: 20px; }
    .header h1 { font-size: 2em; margin-bottom: 5px; }
    .header p { font-size: 0.95em; color: var(--muted); }

    /* Navegaci√≥n */
    .top-nav { display: flex; gap: 10px; justify-content: center; margin-bottom: 20px; flex-wrap: wrap; }
    .nav-btn { background: linear-gradient(45deg, var(--bg1), var(--ring)); color: white; border: none; padding: 8px 12px; border-radius: 8px; cursor: pointer; font-weight: 600; }
    .nav-btn:hover { transform: scale(1.05); }
    .tab-section { display: none; }

    /* Calendario */
    .main-layout { display: grid; grid-template-columns: 1fr 320px; gap: 20px; margin-bottom: 20px; }
    .calendar-section { background: var(--paper); border-radius: 15px; padding: 15px; box-shadow: 0 5px 20px var(--shadow); }
    .calendar-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 2px; }
    .calendar-day-header { background: var(--ink); color: white; padding: 5px; font-size: 0.8em; text-align:center; }
    .calendar-day { background: #111827; min-height: 80px; padding: 5px; color: var(--ink); }
    .day-number { font-weight: bold; font-size: 0.85em; display:flex; justify-content: space-between; }
    .event { font-size:0.7em; border-radius:4px; padding:2px 4px; margin:2px 0; overflow:hidden; white-space:nowrap; text-overflow:ellipsis; }
    .event.matematica { background: var(--mat); color:#000; }
    .event.algoritmos { background: var(--alg); }
    .event.economia { background: var(--eco); color:#000; }

    /* Sidebar */
    .sidebar { display:flex; flex-direction: column; gap: 15px; }
    .quick-add, .upcoming-events { background: var(--paper); border-radius: 12px; padding: 15px; box-shadow: 0 5px 15px var(--shadow); }
    .add-btn { width: 100%; background: var(--alg); color:white; border:none; padding:10px; border-radius:8px; cursor:pointer; font-weight:bold; margin-bottom:8px; }
    .add-btn:hover { background: #4f46e5; }

    /* Materias */
    .subjects-tabs { display:flex; gap:10px; margin-bottom:10px; flex-wrap:wrap; }
    .subject-card { background: var(--paper); border-radius:10px; padding:15px; margin-top:10px; box-shadow:0 5px 15px var(--shadow); }
    .notes-table { width:100%; border-collapse: collapse; margin-bottom:10px; }
    .notes-table th, .notes-table td { border:1px solid #374151; padding:5px; font-size:0.9em; }
    .notes-table th { background:#334155; }
    .pdf-list li { margin-bottom:5px; font-size:0.9em; }

    /* Responsividad */
    @media (max-width: 1024px) {
      .main-layout { grid-template-columns: 1fr; }
    }
    @media (max-width: 600px) {
      .calendar-grid { grid-template-columns: 1fr; } /* agenda en lista */
      .calendar-day { min-height: auto; }
      .day-number { font-size: 1em; }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>üéì Mi Organizador Universitario</h1>
      <p>Calendario, Materias, Notas y PDFs</p>
    </div>

    <!-- Navegaci√≥n -->
    <div class="top-nav">
      <button class="nav-btn main-tab" data-tab="calendarTab">üìÖ Calendario</button>
      <button class="nav-btn main-tab" data-tab="subjectsTab">üìë Materias</button>
    </div>

    <!-- Secci√≥n Calendario -->
    <div id="calendarTab" class="tab-section" style="display:block;">
      <div class="main-layout">
        <div class="calendar-section">
          <div class="calendar-header">
            <h2 id="currentMonth">Agosto 2025</h2>
            <div>
              <button class="nav-btn" id="prevMonth">‚Üê</button>
              <button class="nav-btn" id="todayBtn">Hoy</button>
              <button class="nav-btn" id="nextMonth">‚Üí</button>
            </div>
          </div>
          <div class="calendar-grid" id="calendarGrid"></div>
        </div>
        <div class="sidebar">
          <div class="quick-add">
            <h3>‚ö° Accesos r√°pidos</h3>
            <button class="add-btn" id="newEventBtn">üìÖ Nuevo Evento</button>
            <button class="add-btn" id="viewAllBtn">üìã Ver Todos</button>
          </div>
          <div class="upcoming-events">
            <h3>üìã Pr√≥ximos eventos</h3>
            <div id="upcomingList"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Secci√≥n Materias -->
    <div id="subjectsTab" class="tab-section">
      <div class="calendar-section">
        <h2>üìë Mis Materias</h2>
        <div class="subjects-tabs">
          <button class="nav-btn sub-tab" data-subject="matematica">Matem√°tica B</button>
          <button class="nav-btn sub-tab" data-subject="algoritmos">Algoritmos y Programaci√≥n 2</button>
          <button class="nav-btn sub-tab" data-subject="economia">Econom√≠a y Medici√≥n Econ√≥mica</button>
        </div>
        <div id="subjectContent"></div>
      </div>
    </div>
  </div>

  <script>
    // Datos iniciales
    let currentDate = new Date();
    const STORAGE_KEY = "uniOrgEventsDark";
    let events = {};
    function saveEvents(){ localStorage.setItem(STORAGE_KEY, JSON.stringify(events)); }
    function loadEvents(){ const d = localStorage.getItem(STORAGE_KEY); if(d) events = JSON.parse(d); }

    document.addEventListener("DOMContentLoaded", ()=>{
      loadEvents();
      renderCalendar();
      updateUpcoming();

      document.getElementById("prevMonth").onclick=()=>{ currentDate.setMonth(currentDate.getMonth()-1); renderCalendar(); };
      document.getElementById("nextMonth").onclick=()=>{ currentDate.setMonth(currentDate.getMonth()+1); renderCalendar(); };
      document.getElementById("todayBtn").onclick=()=>{ currentDate=new Date(); renderCalendar(); };
      document.getElementById("newEventBtn").onclick=()=>{ alert("Aqu√≠ ir√≠a el modal para agregar evento"); };
    });

    function renderCalendar(){
      const year=currentDate.getFullYear(), month=currentDate.getMonth();
      document.getElementById("currentMonth").textContent=currentDate.toLocaleDateString("es-ES",{month:"long",year:"numeric"});
      const firstDay=new Date(year,month,1).getDay();
      const daysInMonth=new Date(year,month+1,0).getDate();
      const grid=document.getElementById("calendarGrid"); grid.innerHTML="";
      const dayHeaders=["Dom","Lun","Mar","Mi√©","Jue","Vie","S√°b"];
      dayHeaders.forEach(d=>{ const el=document.createElement("div"); el.className="calendar-day-header"; el.textContent=d; grid.appendChild(el); });
      for(let i=0;i<firstDay;i++){ grid.appendChild(document.createElement("div")); }
      for(let d=1;d<=daysInMonth;d++){
        const cell=document.createElement("div"); cell.className="calendar-day";
        cell.innerHTML=`<div class="day-number">${d}</div>`;
        grid.appendChild(cell);
      }
    }

    function updateUpcoming(){ document.getElementById("upcomingList").innerHTML="<i>Sin eventos</i>"; }

    // Materias
    const SUBJECTS_KEY="uniSubjectsDark";
    let subjectsData={matematica:{notas:[],pdfs:[]},algoritmos:{notas:[],pdfs:[]},economia:{notas:[],pdfs:[]}};
    function loadSubjects(){ const s=localStorage.getItem(SUBJECTS_KEY); if(s) subjectsData=JSON.parse(s); }
    function saveSubjects(){ localStorage.setItem(SUBJECTS_KEY, JSON.stringify(subjectsData)); }
    function renderSubject(key){
      const data=subjectsData[key];
      const cont=document.getElementById("subjectContent");
      cont.innerHTML=`
        <div class="subject-card">
          <h3>üìä Notas</h3>
          <table class="notes-table"><tr><th>Evaluaci√≥n</th><th>Nota</th></tr>
          ${data.notas.map(n=>`<tr><td>${n.eval}</td><td>${n.nota}</td></tr>`).join("")}</table>
          <button class="add-btn" onclick="addNota('${key}')">‚ûï Agregar Nota</button>
        </div>
        <div class="subject-card">
          <h3>üìÇ PDFs</h3>
          <ul class="pdf-list">${data.pdfs.map(p=>`<li><a href="${p.link}" target="_blank">${p.nombre}</a></li>`).join("")}</ul>
          <button class="add-btn" onclick="addPdf('${key}')">‚ûï Agregar PDF</button>
        </div>`;
    }
    function addNota(key){ const e=prompt("Evaluaci√≥n:"), n=prompt("Nota:"); if(e&&n){ subjectsData[key].notas.push({eval:e,nota:n}); saveSubjects(); renderSubject(key);} }
    function addPdf(key){ const n=prompt("Nombre PDF:"), l=prompt("Enlace:"); if(n&&l){ subjectsData[key].pdfs.push({nombre:n,link:l}); saveSubjects(); renderSubject(key);} }

    // Tabs
    document.querySelectorAll(".main-tab").forEach(btn=>{
      btn.addEventListener("click",()=>{
        document.querySelectorAll(".tab-section").forEach(s=>s.style.display="none");
        document.getElementById(btn.dataset.tab).style.display="block";
      });
    });
    document.querySelectorAll(".sub-tab").forEach(btn=>{
      btn.addEventListener("click",()=>{ loadSubjects(); renderSubject(btn.dataset.subject); });
    });
  </script>
</body>
</html>
